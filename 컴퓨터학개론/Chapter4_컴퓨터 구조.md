# Chapter 4. 컴퓨터 구조

#### 프로그램 내장 방식 & 구성 명령어
+ 프로그램 내장 방식 : 
  - 헝가리 수학자가 프로그램 내장 방식을 처음 제안함. 
  - 그 이전(에니악 때)에는 프로그램을 실행할 때마다 회로를 모두 뜯어서 다시 연결하는 등의 설정을 해 주어야 했다.
  - 프로그램에 들어가 있는 명령어와 데이터를 모두 이진 코드화하여 주기억 장치에다가 올리게끔 바꿈.
  - "주기억장치를 고도화하여, CPU가 주기억장치 위의 데이터를 하나씩 불러와서 처리를 하자!" 는 개념이 바로 "프로그램 내장 방식" 이다.
    - ex : 프로그램 코드를 짰으면, 그 프로그램을 실행시키기 위해서는 컴파일 과정이 필요하다.

+ 프로그램 구성 명령어
  - 컴파일하게 되면, 컴퓨터가 실행할 수 있는 기계어로 코드가 변환이 된다(.exe)
  - 해당 기계어 파일이 CPU에 들어가서 처리가 되는데, 이 명령어 포맷은 연산자 부분과 피연산자 부분으로 구분된다.
    <img src="images/CompStart_Ch4_1.png"/>
    
      -  opcode(Operation Code) : 연산자 
      -  뒷부분 : 피연산자
  - 이런 format으로 주기억 장치에 저장되어 있다가, CPU에 순서대로 들어가서 처리가 되는 방식이다.
  - 컴파일 시에는, 코드 한줄한줄을 해당 명령어 format으로 모두 해독하는 과정임.
  - 피연산자 부분에는, 해당 피연산자가 있는 주소값을 가리키고 있는 식이다. 해당 메모리 주소로 가서 거기에 있는 data를 CPU로 가져와서 처리하게 된다.
  - 명령어의 길이가 고정되어 있는 CPU도 있고, 어떤 CPU는 명령어 포맷의 길이가 다양한 CPU도 존재한다.
    - 명령어 갈이에서, 때로는 피연산자가 전혀 없는 명령어도 있음. 
    - 명령어의 피연산자가 1개 있는 명령어, 2개 있는 명령어, 3개 있는 명령어 등 다양함.

#### 저급 명령어 
+ 저급 언어 : 사람이 이해할 수 있는 언어가 아닌, 컴퓨터가 이해할 수 있는 언어를 "저급 언어" 라고 함.
  - 기계어(0과 1로 이루어짐) 와 어셈블리어(기계어를 기호화한 언어)가 저급언어에 해당한다.
    - 역시 마찬가지로 기계어는 연산자와 피연산자 부분으로 구분해서 볼 수 있다.
    - 어셈블리어는, 기계어와 1대 1로 매칭되어 기호화한 언어이기 때문에 거의 기계어에 가깝다.
  - C로 코딩하는 것은 고급 언어에 해당한다.
  - 어셈블리 연산자 : 앞의 연산자 기계어와 1대 1로 매칭.
    - LDA(Load Address) : 피연선자의 자료를 레지스터에 가져오라는 명령어
    - ADD : 피연산자의 자료(뒤에 오는 애)와 , 레지스터에 이미 있는 자료를 더하라는 명령어
    - STA(STore Address) : 레지스터의 내용을 피연산자의 주소에 저장하라는 명령어
    - HLT : 종료 명령어
  - 어셈블리어로 코딩하기 위해서는, 컴퓨터 동작 같은 것들을 완전히 빠삭하게 다 알고 있어야 프로그램을 어셈블리어로 만드는 것이 가능하다.
  - 해당 어셈블리어가 기계어로 변환되어, 기계어가 CPU에 들어가서 명령 포맷을 읽어들이는 CPU는 해당 내용을 실행하게 된다.
  - 고급 언어에서는 처리할 수 없는 기능이 저급 언어에 있기 때문에, 어셈블리어도 간혹 요즘 사용되기도 한다. 
  - 기계어와 어셈블리어는 CPU 종류마다 내용이 다른 것으로 알려져 있다.
  
+ 고급 언어 : 사람이 생각하는 논리적 수준으로 명령어를 짜는 방식이 고급 언어이다. 

#### 주기억장치(Main Memory)
+ 주기억장치 : CPU가 처리할 프로그램의 명령어와 자료를 저장하고 있는 기억 장치
  - 주로 메모리라고 하면, 주기억 장치를 뜻한다.
  - RAM(Random Access Memory) 형태를 취하게 된다.
  - 한 Byte마다 주소값이 설정되어 있다. 주소값이 설정되어 있어, 해당되는 주소에 가서 데이터를 읽어오고, 해당되는 주소에다 데이터를 읽고 쓰는 식이다.
  
+ 자료 : 주 기억장치와 CPU 사이의 데이터는 Word(32bit 기준 4byte) 단위로 이동한다. 
    - Word : CPU로 데이터를 한번에 가져올 때의 최대 데이터 크기. CPU가 한번에 처리할 수 있는 데이터의 크기이기도 하다.
    - 32bit 기준 4byte, 64bit 기준 8byte.

+ System Bus : 데이터가 이동하는 선(Line)을 Bus라고 부른다. 
  - 컴퓨터 안에서 데이터와 여러가지 명령 신호들이 Bus Line을 타고 이동함.
  - System Bus 내부의 Bus 종류 : 
    - 데이터가 이동하는 Data Bus
    - 주기억 장치에서 "데이터를 읽어와라/써라" 와 같은 명령 제어 신호가 전달되는 Control Bus
    - 메모리 주소를 지정해주기 위한 주소(Address) 버스
    - 데이터 버스와 제어 버스는 양방향 소통이지만, 주소 버스는 단방향 소통이다. 

  <img src="images/CompStart_Ch4_2.png"/>
  
