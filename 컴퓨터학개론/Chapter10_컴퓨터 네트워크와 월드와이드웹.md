# Chapter 9. 컴퓨터 네트워크와 월드와이드웹

### 컴퓨터 네트워크 

+ 컴퓨터 네트워크 : 전송매체(유선/무선)를 통해 연결된 컴퓨터들이 상호간 정보를 교환하는 시스템
  - 송신자와 수신자의 데이터 전송은, 프로토콜에 따라 이루어짐
  - 프로토콜(Protocol) : 통신을 하는 두 개체 간에 데이터 전송 방식을 정한 절차 또는 규약(메세지의 형식, 전달방법, 교환절차, 에러시의 처리방법 등)
    - 사람이 서로 의사소통 하는것도 같은 "언어"를 쓰기 때문임. 
    - 프로토콜은 사람의 언어와 마찬가지로, 통신 규약을 약속해 놓고 소통하는 것이다.

### 네트워크의 역사

+ 1837년 새뮤얼 모스의 모스 부호는 최초의 전기통신
+ 1876년 알렉산더 벨의 전화 발명
  - 초창기 때는 전화를 연결해 주기 위해 교환수를 사용함.
+ 1878년 교환기 등장, 전화망은 아날로그 신호 이용
  - 아날로그 신호로 전송하다 보니 왜곡/잡음이 발생하여 중간중간에 증폭기 사용
  - 초기 컴퓨터 네트워크는 전화망을 사용함
+ 1969년 ARPANET, 1974년 제록스가 이더넷(Ethernet) 개발
  - 미 국무성을 중심으로 알파넷이 형성됨. 
  - 주변에 있는 연구소, 대학교 기관들을 연결하는 것으로 시작.
  - 이것을 시작으로 전 세계 LAN들이 연결되어 인터넷이 발달했다.
+ 1982년 인터넷 프로토콜인 TCP/IP 가 만들어짐
+ 1992년 www 가 개발되어 인터넷의 급격한 확산이 이루어짐.

### OSI(Open System Interconnect) 7계층 모델

+ 현재 인터넷이 개발되어 사용되는 프로토콜은 TCP/IP Protocol 이다.
+ 국제표준화기구(ISO)에서, 통하기 위한 여러 가지 참조 모델로 만든 것이 OSI 7 Layer 모델이다.
  - 꼭 따라야 하는 의미가 아닌, 그저 참조하라는 의미로 만든 것이지만, 현재는 거의 모든 컴퓨터가 통신을 하기 위해 이 프로토콜을 사용하고 있다.

+ 데이터 통신을 하기 위해, 송신측 컴퓨터와 수신측 컴퓨터를 각각 7개 층으로 나누었음.
  - 각 계층에서 해당 계층에서의 일을 하면, 거기에 해당되는 같은 layer에 있는 수신 계층이 그것을 받아 적절한 처리를 할 수 있도록 하는 모델이다. 
  - 그렇게 아래와 같은 8계층으로 만들어, OSI 7 Layer가 만들어지게 되었다.
  
<img src = "images/CompStart_Ch10_1.png" />

+ 위 두 컴퓨터는 네트워크 상으로 멀리 떨어져 있는 것이라고 가정하자. 
+ 두 컴퓨터가 통신하기 위해서는, 여러 개의 네트워크를 거쳐 연결이 된다. 
  - 중간에 있는 것이 router 이다. 
  - 원래 많이 떨어져 있으면, 여러 개의 router를 거쳐야 하지만, 여기서는 편의상 하나만 함.
  - 컴퓨터에서는 그냥 간단하게 마우스 클릭 한방이면 되지만, 속에서는 여러 개의 단계를 거친다.

+ 응용 계층 : "사용자에게 응용 서비스 제공"
  - 제일 위에 있는 계층.
  - '응용' 은, 컴퓨터에서 사용하고 있는 응용 소프트웨어를 가리키는 것이다.
  - 사용자와 상호작용하는 계층
    - 카카오톡이라는 응용프로그램에서, 전송하는 메세지는 응용 계층에서 처리한다.

+ 표현 계층 : "전송 정보의 표현방식 관리, 암호화/압축 등"
  - 응용 계층 바로 아래 있는 계층
  - 제대로 네트워크를 거쳐서 전달되기 위해서는, 중간에 다른 사람이 메세지를 보지 못하도록 암호화하거나 압축하는 등의 과정이 필요하다. 
  - 표현 계층에서는, 응용 계층에서 보내려고 하는 메세지가 다른 사람의 네트워크를 거쳐서 가기 때문에, 다른사람이 보지 못하도록 암호화하거나, 압축(용량이 너무 큰 파일의 경우) 하고, 암호화에 관련된 헤더를 덧붙여서 보내는 역할을 담당한다 
    - 우편물을 보낼 때도, 알맹이만 보내는 것이 아니라 남이 해당 물건을 보지 못하도록 포장함.
    - 암호화 관련 헤더를 보내는 이유는, 수신계층에서 암호화되어 받아본 애를 풀어야 하기 때문이다.
    - 헤더를 덧붙여 보내면, 수신 측에서 그것을 토대로 적절한 처리를 해서 알맹이 메세지를 보게 될 것이다.

+ 세션 계층 : "두 종단의 프로세스 사이의 접속(session)의 설정/유지/종료 담당"
  - 세션(Session) : 송수신 간의 논리적 연결.
    - 지식백과에서의 세션 : 
    - 1. 망 환경에서 사용가 간, 또는 컴퓨터 간의 대화를 위한 논리적 연결
    - 2. 프로세스들 사이에서 통신을 하기 위해, 메세지 교환을 토애 서로를 인식한 이후부터 통신을 마칠 때까지의 시간.

  - 세션 계층에서는, "세션"에 관련된 정보를 덧붙여서 아래로 내린다. 

+ 보내려고 하는 알맹이는 7계층 데이터가 전부인데, 자꾸 살을 덧대는 식으로 내려간다고 생각하면 된다.(암호화 헤더, 세션 정보 등)
 
+ 전송 계층 : "전체 메세지의 종단간 전성을 책임짐"
  - 종단간(end-to-end) 흐름 제어 및 오류 제어기능
  - 송신측에서 수신 측까지 정보가 제대로 전송이 되었는지 관련된 것들을 제어하는 계층이다.
  - 송신/수신 컴퓨터 간에 router를 여러 개 거치게 되는데, router를 제대로 잘 거쳐 도착했는지를 체크하는 계층
  - 그에 관련된 정보도 역시 헤더에 들어간다.

+ 네트워크 계층 : "송신측과 수신측간의 패킷(packet)이 전송되는 경로 설정(routing)"
  - 논리적인 IP 주소를 헤더에 포함하여 전송
  - 네트워크 계층에서 하는 기능, 부가정보들을 헤더에 덧붙이게 되는데, 네트워크 계층까지 내려오면서 헤더가 다 붙고, 네트워크 계층에서도 헤더를 붙이면 이것을 보고 "패킷"이라고 한다. 
  - 패킷의 헤더에는, 송신/수신 측 IP 주소가 들어간다. 
    - 패킷 헤더 부분을 보고 "논리 주소"라고도 이야기한다. 
    - 마치 우편물을 보낼 때, 보내는 사람/받는 사람 적는것과 같음.

+ 데이터 링크 계층 : "인접한 노드 간에 전송하는 역할. 프레임이라는 논리적 단위를 구성(인접 노드 주소 포함)"
  - 데이터링크 계층에서 하는 기능에 관련된 부가정보를 헤더 부분과 트레일러 부분에 붙인다. 
  - 데이터 링크 계층에서, 이러한 형태로 앞뒤로 붙여서 합친 데이터를 보고 "프레임" 이라고도 부른다.
  - 프레임의 헤더에는, 인접한 node의 48bit mac 주소(물리 주소가 아니다. 1:1 치환된다고 생각하면 된다)가 들어가게 된다. 
  - 물리 주소는 왜 필요한가?
    - 데이터 링크 계층에서는 멀리 보는 것이 아닌, 인접해 있는 node 까지만 바라본다. 
    - node와 node 사이의 link를 하나하나 통과해서 데이터가 나아가게 된다. 
    - 인접해져 있는 node로, link를 통해 프레임을 전송하게 된다. 
    - 이렇게 node 간에 정보를 전달하기 위한 계층이 데이터 링크 계층이 하는 일이 된다.
    - 단순히 다음 router까지 프레임이 제대로 전송이 되게끔만 하는 계층이다.
    - 데이터 링크는 오로지, 연결되어 있는 링크들만 살핀다. 

  - 전달받은 주소와 전달할 주소 두가지만 있으면 되겠다.
    - 마치, 우체국 직원이 다음 장소로 보내기 위해서 받은 집중국, 보낼 집중국 정보를 스티커로 붙여놓은 것 같은 구조이다.(여기서의 집중국이 곧 router가 되겠다)

+ 왜 라우터에는 네트워크 계층, 데이터링크 계층, 물리 계층 3개만 있는가?
  - 네트워크 계층에서, 송신/수신 측 IP를 받아오게 되는데, 이것을 읽고 데이터링크 계층에서 어디로 보낼지 판단하면서 보내게 된다.
  - 중간에 있는 router들은, 전송 계층까지의 알맹이는 볼 필요가 없다. 그냥 보내는 역할을 할 뿐이다. 
  - 그래서 네트워크 계층의, 송/수신 IP만 보고 관련 알고리즘을 활용해 다른 쪽 router나 컴퓨터로 보내게 되는 것이다.
  
+ 물리 계층 : "데이터를 물리 매체 상으로 전송하는 역할."
  - 사용자 장비와 네트워크 종단 장비 간의 물리적/전기적 인터페이스 구성
  - 실제로는, 0 아니면 1로 모든게 구성되어 있다. 
  - 물리적으로, 정보를 보내려고 하면 0 아니면 1 로 이루어져 있는 signal로 정보를 바꿔야 한다. 
  - 0 아니면 1로 정보를 모두 바꾸는 작업을 물리 계층에서 수행한다. 
  - router에서도, 수신측에서도 해당 0 아니면 1 시그널을 해독하여 정보를 취합하고, 다시 바꿔서 보내는 등의 역할을 수행한다. 
  - 최종적으로는 물리 계층에서 받아온 애를, 하나하나 head, trailer를 다 떼고 다시 위로 올라가면서 응용 계층에서 해당 정보를 파악하게 된다.

### 캡슐화 & 역캡슐화

<img src = "images/CompStart_Ch10_2.png" />

+ 각 계층에서 하는 헤더나 트레일러 붙이는 작업을 "캡슐화" 라고 부르며, 다시 헤더를 떼어내면서 정보를 해독하는 것을 "역캡슐화" 라고 부른다. 
